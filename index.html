<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ–‡å­—ç¢°æ’ + è§†é¢‘äº’åŠ¨</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.js"></script>
</head>
<body style="margin:0; padding:0; overflow:hidden; background:#F9A800;">
  <script>

let words = [];
let input;
let submitButton;
let video;
let fontList = ['sans-serif', 'serif', 'monospace'];
let emojis = ['âœ¨', 'ğŸ”¥', 'ğŸŒˆ', 'ğŸ’¥', 'ğŸ€', 'ğŸ±', 'ğŸŒ¸', 'ğŸˆ', 'âœ‚ï¸', 'ğŸ–Œï¸', 'ğŸ–ï¸', 'ğŸ¨', 'ğŸ§µ', 'ğŸ§¶', 'ğŸ“', 'ğŸ“', 'ğŸ“Œ', 'ğŸ“'];

function setup() {
  createCanvas(windowWidth, windowWidth); // æ–¹å½¢ç”»å¸ƒ
  background('#F9A800');

  // åˆ›å»ºè¾“å…¥æ¡†
  input = createInput();
  input.position(20, 20);
  input.size(700);
  input.attribute('placeholder', 'TYPE IN YOUR REF-AI-CTION');
  input.style('font-size', '20px');

  // åˆ›å»ºæäº¤æŒ‰é’®
  submitButton = createButton('DROP');
  submitButton.position(input.x + input.width + 10, 20);
  submitButton.size(70, 40);
  submitButton.mousePressed(addWordFromInput);

  // åˆ›å»ºè§†é¢‘
  video = createVideo(['Myvideo.mp4'], () => {
    video.loop();
    video.volume(0);
  });
  video.show();
  video.play();
}
function mousePressed() {
      if (video) video.play(); // ç”¨æˆ·äº¤äº’ä¿éšœæ’­æ”¾
    }

    function addWordFromInput() {
      let str = input.value().trim();
      if (str.length > 0) {
        let parts = str.match(/\S+/g);
        for (let p of parts) {
          addWord(p);
        }
        input.value('');
      }
    }
function addWordFromInput() {
  let str = input.value().trim();
  if (str.length > 0) {
    let parts = str.match(/\S+/g); // åˆ†è¯
    for (let p of parts) {
      addWord(p);
    }
    input.value('');
  }
}

function addWord(txt) {
  words.push({
    txt,
    x: random(width),
    y: -20,
    vx: random(-1, 1),
    vy: 0,
    size: random(20, 50),
    font: random(fontList),
    angle: random(TWO_PI),
    rotationSpeed: random(-0.02, 0.02)
  });
}

function draw() {
  background('#F9A800');

  // è§†é¢‘è·Ÿéšè®¾å¤‡è½»å¾®æ™ƒåŠ¨
  let dx = rotationY * 0.2 || 0;
  let dy = rotationX * 0.2 || 0;
  image(video, width / 4 + dx, height / 4 + dy, width / 2, width / 2);

  // æ·»åŠ éšæœº emoji
  if (random() < 0.01) {
    addWord(random(emojis));
  }

  // æ·»åŠ é¢„è®¾æ–‡å­—
  if (frameCount % 60 === 0) {
    addWord(random(['AI', 'WORD', 'ART', 'äº’åŠ¨', 'è¡¨è¾¾', 'è‡ªç”±', 'æ¢ç´¢', 'æ„Ÿå—', 'REGULATION', 'WHERE', 'æ‹¼æ¥è€…', 'å·ç›—','THEFT' ]));
  }

  // æ–‡å­—è¡Œä¸º
  for (let w of words) {
    w.vy += 0.2; // gravity
    w.x += w.vx;
    w.y += w.vy;

    // è¾¹ç•Œç¢°æ’
    if (w.x < 0 || w.x > width) w.vx *= -1;
    if (w.y > height - 20) {
      w.y = height - 20;
      w.vy *= -0.5;
      w.vx *= 0.8;
    }

    // ä¸è§†é¢‘ç¢°æ’
    let videoX = width / 4;
    let videoY = height / 4;
    let videoW = width / 2;
    let videoH = width / 2;
    if (w.x > videoX && w.x < videoX + videoW &&
        w.y > videoY && w.y < videoY + videoH) {
      w.vy *= -0.5;
      w.vx += random(-1, 1);
      w.y = videoY;
    }

    // æ—‹è½¬ç»˜åˆ¶
    push();
    translate(w.x, w.y);
    rotate(w.angle);
    fill(0);
    textSize(w.size);
    textFont(w.font);
    textAlign(CENTER, CENTER);
    text(w.txt, 0, 0);
    pop();

    w.angle += w.rotationSpeed;
  }

  // å¦‚æœå †æ»¡äº†ï¼Œå…¨éƒ¨æ¸…ç©º
  if (words.length > 300) {
    words = [];
  }
}

  </script>
</body>
</html>
